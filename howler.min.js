/*!
 *  howler.js v1.1.17
 *  howlerjs.com
 *
 *  (c) 2013-2014, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
!function(){var e={},o=null,n=!0,r=!1;try{"undefined"!=typeof AudioContext?o=new AudioContext:"undefined"!=typeof webkitAudioContext?o=new webkitAudioContext:n=!1}catch(t){n=!1}if(!n)if("undefined"!=typeof Audio)try{new Audio}catch(t){r=!0}else r=!0;if(n){var u=void 0===o.createGain?o.createGainNode():o.createGain();u.gain.value=1,u.connect(o.destination)}var a=function(){this._volume=1,this._muted=!1,this.usingWebAudio=n,this.noAudio=r,this._howls=[]};a.prototype={volume:function(e){var o=this;if(e=parseFloat(e),e>=0&&1>=e){o._volume=e,n&&(u.gain.value=e);for(var r in o._howls)if(o._howls.hasOwnProperty(r)&&o._howls[r]._webAudio===!1)for(var t=0;t<o._howls[r]._audioNode.length;t++)o._howls[r]._audioNode[t].volume=o._howls[r]._volume*o._volume;return o}return n?u.gain.value:o._volume},mute:function(){return this._setMuted(!0),this},unmute:function(){return this._setMuted(!1),this},_setMuted:function(e){var o=this;o._muted=e,n&&(u.gain.value=e?0:o._volume);for(var r in o._howls)if(o._howls.hasOwnProperty(r)&&o._howls[r]._webAudio===!1)for(var t=0;t<o._howls[r]._audioNode.length;t++)o._howls[r]._audioNode[t].muted=e}};var i=new a,d=null;if(!r){d=new Audio;var l={mp3:!!d.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!d.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!d.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),m4a:!!(d.canPlayType("audio/x-m4a;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(d.canPlayType("audio/x-mp4;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")}}var _=function(e){var o=this;o._autoplay=e.autoplay||!1,o._buffer=e.buffer||!1,o._duration=e.duration||0,o._format=e.format||null,o._loop=e.loop||!1,o._loaded=!1,o._sprite=e.sprite||{},o._src=e.src||"",o._pos3d=e.pos3d||[0,0,-.5],o._volume=void 0!==e.volume?e.volume:1,o._urls=e.urls||[],o._rate=e.rate||1,o._onload=[e.onload||function(){}],o._onloaderror=[e.onloaderror||function(){}],o._onend=[e.onend||function(){}],o._onpause=[e.onpause||function(){}],o._onplay=[e.onplay||function(){}],o._onendTimer=[],o._webAudio=n&&!o._buffer,o._audioNode=[],o._webAudio&&o._setupAudioNode(),i._howls.push(o),o.load()};if(_.prototype={load:function(){var o=this,n=null;if(r)return void o.on("loaderror");for(var t=0;t<o._urls.length;t++){var u,a;if(o._format)u=o._format;else{if(a=o._urls[t].toLowerCase().split("?")[0],u=a.match(/.+\.([^?]+)(\?|$)/),u=u&&u.length>=2?u:a.match(/data\:audio\/([^?]+);/),!u)return void o.on("loaderror");u=u[1]}if(l[u]){n=o._urls[t];break}}if(!n)return void o.on("loaderror");if(o._src=n,o._webAudio)f(o,n);else{var d=new Audio;o._audioNode.push(d),d.src=n,d._pos=0,d.preload="auto",d.volume=i._muted?0:o._volume*i.volume(),e[n]=o;var _=function(){o._duration=Math.ceil(10*d.duration)/10,0===Object.getOwnPropertyNames(o._sprite).length&&(o._sprite={_default:[0,1e3*o._duration]}),o._loaded||(o._loaded=!0,o.on("load")),o._autoplay&&o.play(),d.removeEventListener("canplaythrough",_,!1)};d.addEventListener("canplaythrough",_,!1),d.load()}return o},urls:function(e){var o=this;return e?(o.stop(),o._urls="string"==typeof e?[e]:e,o._loaded=!1,o.load(),o):o._urls},play:function(e,n){var r=this;return"function"==typeof e&&(n=e),e&&"function"!=typeof e||(e="_default"),r._loaded?r._sprite[e]?(r._inactiveNode(function(t){t._sprite=e;var u,a=t._pos>0?t._pos:r._sprite[e][0]/1e3,d=r._sprite[e][1]/1e3-t._pos,l=!(!r._loop&&!r._sprite[e][2]),_="string"==typeof n?n:Math.round(Date.now()*Math.random())+"";if(function(){var o={id:_,sprite:e,loop:l};u=setTimeout(function(){!r._webAudio&&l&&r.stop(o.id,o.timer).play(e,o.id),r._webAudio&&!l&&(r._nodeById(o.id).paused=!0,r._nodeById(o.id)._pos=0),r._webAudio||l||r.stop(o.id,o.timer),r.on("end",_)},1e3*d),r._onendTimer.push(u),o.timer=r._onendTimer[r._onendTimer.length-1]}(),r._webAudio){var f=r._sprite[e][0]/1e3,s=r._sprite[e][1]/1e3;t.id=_,t.paused=!1,p(r,[l,f,s],_),r._playStart=o.currentTime,t.gain.value=r._volume,void 0===t.bufferSource.start?t.bufferSource.noteGrainOn(0,a,d):t.bufferSource.start(0,a,d)}else{if(4!==t.readyState)return r._clearEndTimer(u),function(){var o=r,u=e,a=n,i=t,d=function(){o.play(u,a),i.removeEventListener("canplaythrough",d,!1)};i.addEventListener("canplaythrough",d,!1)}(),r;t.id=_,t.currentTime=a,t.muted=i._muted,t.volume=r._volume*i.volume(),setTimeout(function(){t.play()},0)}return r.on("play"),"function"==typeof n&&n(_),r}),r):("function"==typeof n&&n(),r):(r.on("load",function(){r.play(e,n)}),r)},pause:function(e,o){var n=this;if(!n._loaded)return n.on("play",function(){n.pause(e)}),n;n._clearEndTimer(o||0);var r=e?n._nodeById(e):n._activeNode();if(r)if(r._pos=n.pos(null,e),n._webAudio){if(!r.bufferSource||r.paused)return n;r.paused=!0,void 0===r.bufferSource.stop?r.bufferSource.noteOff(0):r.bufferSource.stop(0)}else r.pause();return n.on("pause"),n},stop:function(e,o){var n=this;if(!n._loaded)return n.on("play",function(){n.stop(e)}),n;n._clearEndTimer(o||0);var r=e?n._nodeById(e):n._activeNode();if(r)if(r._pos=0,n._webAudio){if(!r.bufferSource||r.paused)return n;r.paused=!0,void 0===r.bufferSource.stop?r.bufferSource.noteOff(0):r.bufferSource.stop(0)}else r.pause(),r.currentTime=0;return n},mute:function(e){var o=this;if(!o._loaded)return o.on("play",function(){o.mute(e)}),o;var n=e?o._nodeById(e):o._activeNode();return n&&(o._webAudio?n.gain.value=0:n.volume=0),o},unmute:function(e){var o=this;if(!o._loaded)return o.on("play",function(){o.unmute(e)}),o;var n=e?o._nodeById(e):o._activeNode();return n&&(o._webAudio?n.gain.value=o._volume:n.volume=o._volume),o},volume:function(e,o){var n=this;if(e=parseFloat(e),e>=0&&1>=e){if(n._volume=e,!n._loaded)return n.on("play",function(){n.volume(e,o)}),n;var r=o?n._nodeById(o):n._activeNode();return r&&(n._webAudio?r.gain.value=e:r.volume=e*i.volume()),n}return n._volume},loop:function(e){var o=this;return"boolean"==typeof e?(o._loop=e,o):o._loop},sprite:function(e){var o=this;return"object"==typeof e?(o._sprite=e,o):o._sprite},pos:function(e,n){var r=this;if(!r._loaded)return r.on("load",function(){r.pos(e)}),"number"==typeof e?r:r._pos||0;e=parseFloat(e);var t=n?r._nodeById(n):r._activeNode();if(t)return e>=0?(r.pause(n),t._pos=e,r.play(t._sprite,n),r):r._webAudio?t._pos+(o.currentTime-r._playStart):t.currentTime;if(e>=0)return r;for(var u=0;u<r._audioNode.length;u++)if(r._audioNode[u].paused&&4===r._audioNode[u].readyState)return r._webAudio?r._audioNode[u]._pos:r._audioNode[u].currentTime},pos3d:function(e,o,n,r){var t=this;if(o=void 0!==o&&o?o:0,n=void 0!==n&&n?n:-.5,!t._loaded)return t.on("play",function(){t.pos3d(e,o,n,r)}),t;if(!(e>=0||0>e))return t._pos3d;if(t._webAudio){var u=r?t._nodeById(r):t._activeNode();u&&(t._pos3d=[e,o,n],u.panner.setPosition(e,o,n))}return t},fade:function(e,o,n,r,t){var u=this,a=Math.abs(e-o),i=e>o?"down":"up",d=a/.01,l=n/d;if(!u._loaded)return u.on("load",function(){u.fade(e,o,n,r,t)}),u;u.volume(e,t);for(var _=1;d>=_;_++)!function(){var e=u._volume+("up"===i?.01:-.01)*_,n=Math.round(1e3*e)/1e3,a=o;setTimeout(function(){u.volume(n,t),n===a&&r&&r()},l*_)}()},fadeIn:function(e,o,n){return this.volume(0).play().fade(0,e,o,n)},fadeOut:function(e,o,n,r){var t=this;return t.fade(t._volume,e,o,function(){n&&n(),t.pause(r),t.on("end")},r)},_nodeById:function(e){for(var o=this,n=o._audioNode[0],r=0;r<o._audioNode.length;r++)if(o._audioNode[r].id===e){n=o._audioNode[r];break}return n},_activeNode:function(){for(var e=this,o=null,n=0;n<e._audioNode.length;n++)if(!e._audioNode[n].paused){o=e._audioNode[n];break}return e._drainPool(),o},_inactiveNode:function(e){for(var o=this,n=null,r=0;r<o._audioNode.length;r++)if(o._audioNode[r].paused&&4===o._audioNode[r].readyState){e(o._audioNode[r]),n=!0;break}if(o._drainPool(),!n){var t;o._webAudio?(t=o._setupAudioNode(),e(t)):(o.load(),t=o._audioNode[o._audioNode.length-1],t.addEventListener("loadedmetadata",function(){e(t)}))}},_drainPool:function(){var e,o=this,n=0;for(e=0;e<o._audioNode.length;e++)o._audioNode[e].paused&&n++;for(e=o._audioNode.length-1;e>=0&&!(5>=n);e--)o._audioNode[e].paused&&(o._webAudio&&o._audioNode[e].disconnect(0),n--,o._audioNode.splice(e,1))},_clearEndTimer:function(e){var o=this,n=o._onendTimer.indexOf(e);n=n>=0?n:0,o._onendTimer[n]&&(clearTimeout(o._onendTimer[n]),o._onendTimer.splice(n,1))},_setupAudioNode:function(){var e=this,n=e._audioNode,r=e._audioNode.length;return n[r]=void 0===o.createGain?o.createGainNode():o.createGain(),n[r].gain.value=e._volume,n[r].paused=!0,n[r]._pos=0,n[r].readyState=4,n[r].connect(u),n[r].panner=o.createPanner(),n[r].panner.setPosition(e._pos3d[0],e._pos3d[1],e._pos3d[2]),n[r].panner.connect(n[r]),n[r]},on:function(e,o){var n=this,r=n["_on"+e];if("function"==typeof o)r.push(o);else for(var t=0;t<r.length;t++)o?r[t].call(n,o):r[t].call(n);return n},off:function(e,o){for(var n=this,r=n["_on"+e],t=""+o,u=0;u<r.length;u++)if(t===""+r[u]){r.splice(u,1);break}return n},unload:function(){for(var o=this,n=o._audioNode,r=0;r<o._audioNode.length;r++)n[r].paused||o.stop(n[r].id),o._webAudio?n[r].disconnect(0):n[r].src="";var t=i._howls.indexOf(o);null!==t&&t>=0&&i._howls.splice(t,1),delete e[o._src],o=null}},n)var f=function(n,r){if(r in e)n._duration=e[r].duration,s(n);else{var t=new XMLHttpRequest;t.open("GET",r,!0),t.responseType="arraybuffer",t.onload=function(){o.decodeAudioData(t.response,function(o){o&&(e[r]=o,s(n,o))},function(){n.on("loaderror")})},t.onerror=function(){n._webAudio&&(n._buffer=!0,n._webAudio=!1,n._audioNode=[],delete n._gainNode,n.load())};try{t.send()}catch(u){t.onerror()}}},s=function(e,o){e._duration=o?o.duration:e._duration,0===Object.getOwnPropertyNames(e._sprite).length&&(e._sprite={_default:[0,1e3*e._duration]}),e._loaded||(e._loaded=!0,e.on("load")),e._autoplay&&e.play()},p=function(n,r,t){var u=n._nodeById(t);u.bufferSource=o.createBufferSource(),u.bufferSource.buffer=e[n._src],u.bufferSource.connect(u.panner),u.bufferSource.loop=r[0],r[0]&&(u.bufferSource.loopStart=r[1],u.bufferSource.loopEnd=r[1]+r[2]),u.bufferSource.playbackRate.value=n._rate};"function"==typeof define&&define.amd&&define(function(){return{Howler:i,Howl:_}}),"undefined"!=typeof exports&&(exports.Howler=i,exports.Howl=_),window.Howler=i,window.Howl=_}();